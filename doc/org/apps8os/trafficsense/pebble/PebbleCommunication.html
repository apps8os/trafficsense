<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_51) on Wed Apr 09 19:17:43 EEST 2014 -->
<title>PebbleCommunication</title>
<meta name="date" content="2014-04-09">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="PebbleCommunication";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PebbleCommunication.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apps8os/trafficsense/pebble/MessageManager.html" title="class in org.apps8os.trafficsense.pebble"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/apps8os/trafficsense/pebble/PebbleUiController.html" title="class in org.apps8os.trafficsense.pebble"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apps8os/trafficsense/pebble/PebbleCommunication.html" target="_top">Frames</a></li>
<li><a href="PebbleCommunication.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apps8os.trafficsense.pebble</div>
<h2 title="Class PebbleCommunication" class="title">Class PebbleCommunication</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apps8os.trafficsense.pebble.PebbleCommunication</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">PebbleCommunication</span>
extends java.lang.Object</pre>
<div class="block">Handles all communication between Android side and Pebble.
 
 The application should first instantiate this class, invoke <a href="../../../../org/apps8os/trafficsense/pebble/PebbleCommunication.html#startAppOnPebble()"><code>startAppOnPebble()</code></a>
 before any Pebble interaction, and <a href="../../../../org/apps8os/trafficsense/pebble/PebbleCommunication.html#stop()"><code>stop()</code></a> after finished.
 
 Instantiated/started by TrafficsenseContainer.
 Mostly invoked from PebbleUiController</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private com.getpebble.android.kit.PebbleKit.PebbleAckReceiver</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apps8os/trafficsense/pebble/PebbleCommunication.html#ackReceiver">ackReceiver</a></strong></code>
<div class="block">Handle Pebble messaging ACKs.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.util.UUID</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apps8os/trafficsense/pebble/PebbleCommunication.html#APP_UUID">APP_UUID</a></strong></code>
<div class="block">See appinfo.json of Pebble application.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apps8os/trafficsense/pebble/PebbleCommunication.html#COMMAND_GET_STOP">COMMAND_GET_STOP</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apps8os/trafficsense/pebble/PebbleCommunication.html#COMMAND_INIT_SEGMENT">COMMAND_INIT_SEGMENT</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apps8os/trafficsense/pebble/PebbleCommunication.html#COMMAND_SHOW_3STOP_WINDOW">COMMAND_SHOW_3STOP_WINDOW</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apps8os/trafficsense/pebble/PebbleCommunication.html#COMMAND_UPDATELIST">COMMAND_UPDATELIST</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apps8os/trafficsense/pebble/PebbleCommunication.html#KEY_COMMAND">KEY_COMMAND</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apps8os/trafficsense/pebble/PebbleCommunication.html#KEY_FIRST_STOP_CODE">KEY_FIRST_STOP_CODE</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apps8os/trafficsense/pebble/PebbleCommunication.html#KEY_FIRST_STOP_NAME">KEY_FIRST_STOP_NAME</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apps8os/trafficsense/pebble/PebbleCommunication.html#KEY_LINE_NUMBER">KEY_LINE_NUMBER</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apps8os/trafficsense/pebble/PebbleCommunication.html#KEY_START_TIME_HOUR">KEY_START_TIME_HOUR</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apps8os/trafficsense/pebble/PebbleCommunication.html#KEY_START_TIME_MIN">KEY_START_TIME_MIN</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apps8os/trafficsense/pebble/PebbleCommunication.html#KEY_START_TIME_SEC">KEY_START_TIME_SEC</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apps8os/trafficsense/pebble/PebbleCommunication.html#KEY_STOP_CODE">KEY_STOP_CODE</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apps8os/trafficsense/pebble/PebbleCommunication.html#KEY_STOP_NAME">KEY_STOP_NAME</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apps8os/trafficsense/pebble/PebbleCommunication.html#KEY_STOP_NUM">KEY_STOP_NUM</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apps8os/trafficsense/pebble/PebbleCommunication.html#KEY_STOP_TIME">KEY_STOP_TIME</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../org/apps8os/trafficsense/TrafficsenseContainer.html" title="class in org.apps8os.trafficsense">TrafficsenseContainer</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apps8os/trafficsense/pebble/PebbleCommunication.html#mContainer">mContainer</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private Context</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apps8os/trafficsense/pebble/PebbleCommunication.html#mContext">mContext</a></strong></code>
<div class="block">The Context in which we work.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../org/apps8os/trafficsense/pebble/MessageManager.html" title="class in org.apps8os.trafficsense.pebble">MessageManager</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apps8os/trafficsense/pebble/PebbleCommunication.html#messageManager">messageManager</a></strong></code>
<div class="block">Pebble MessageHandler.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.lang.Thread</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apps8os/trafficsense/pebble/PebbleCommunication.html#mMessageManagerThread">mMessageManagerThread</a></strong></code>
<div class="block">Handle Pebble (Bluetooth) communication in another Thread.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private com.getpebble.android.kit.PebbleKit.PebbleNackReceiver</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apps8os/trafficsense/pebble/PebbleCommunication.html#nackReceiver">nackReceiver</a></strong></code>
<div class="block">Handle Pebble messaging NACKs.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apps8os/trafficsense/pebble/PebbleCommunication.html#NUM_STOPS">NUM_STOPS</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apps8os/trafficsense/pebble/PebbleCommunication.html#PEBBLE_COMMAND_GET">PEBBLE_COMMAND_GET</a></strong></code>
<div class="block">Commands that can be sent from Pebble to Android.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/apps8os/trafficsense/pebble/PebbleCommunication.html#PebbleCommunication(Context)">PebbleCommunication</a></strong>(Context&nbsp;applicationContext)</code>
<div class="block">Constructor.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apps8os/trafficsense/pebble/PebbleCommunication.html#initializeSegment(java.lang.String, java.lang.String, java.lang.String, int, int, int)">initializeSegment</a></strong>(java.lang.String&nbsp;line,
                 java.lang.String&nbsp;stopName,
                 java.lang.String&nbsp;stopCode,
                 int&nbsp;hours,
                 int&nbsp;minutes,
                 int&nbsp;seconds)</code>
<div class="block">Sends values like transport mode (line number) and other segment related values
  Doesn't send the waypoints, they have to be sent after calling this.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apps8os/trafficsense/pebble/PebbleCommunication.html#registerReceivers()">registerReceivers</a></strong>()</code>
<div class="block">Set up Pebble ACK and NACK handlers.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apps8os/trafficsense/pebble/PebbleCommunication.html#sendMessage(java.lang.String, java.lang.String)">sendMessage</a></strong>(java.lang.String&nbsp;title,
           java.lang.String&nbsp;message)</code>
<div class="block">Send a text notification to Pebble.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apps8os/trafficsense/pebble/PebbleCommunication.html#sendWaypoint(org.apps8os.trafficsense.core.Waypoint, int)">sendWaypoint</a></strong>(<a href="../../../../org/apps8os/trafficsense/core/Waypoint.html" title="class in org.apps8os.trafficsense.core">Waypoint</a>&nbsp;waypoint,
            int&nbsp;listIndex)</code>
<div class="block">Send a Waypoint to Pebble.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apps8os/trafficsense/pebble/PebbleCommunication.html#startAppOnPebble()">startAppOnPebble</a></strong>()</code>
<div class="block">Start the MessageManager thread and the smart watch app on Pebble.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apps8os/trafficsense/pebble/PebbleCommunication.html#stop()">stop</a></strong>()</code>
<div class="block">Release Pebble messaging resources.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apps8os/trafficsense/pebble/PebbleCommunication.html#switchTo3stopScreen()">switchTo3stopScreen</a></strong>()</code>
<div class="block">Swithches the screen shown in Pebble to the 3 stop list</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apps8os/trafficsense/pebble/PebbleCommunication.html#unRegisterReceivers()">unRegisterReceivers</a></strong>()</code>
<div class="block">Unregister Pebble ACK and NACK handlers.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apps8os/trafficsense/pebble/PebbleCommunication.html#updateList(org.apps8os.trafficsense.core.Waypoint)">updateList</a></strong>(<a href="../../../../org/apps8os/trafficsense/core/Waypoint.html" title="class in org.apps8os.trafficsense.core">Waypoint</a>&nbsp;waypoint)</code>
<div class="block">Scroll the Pebble list UI one waypoint forward.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="APP_UUID">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>APP_UUID</h4>
<pre>private static final&nbsp;java.util.UUID APP_UUID</pre>
<div class="block">See appinfo.json of Pebble application.</div>
</li>
</ul>
<a name="KEY_COMMAND">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KEY_COMMAND</h4>
<pre>private static final&nbsp;int KEY_COMMAND</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.apps8os.trafficsense.pebble.PebbleCommunication.KEY_COMMAND">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="COMMAND_GET_STOP">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>COMMAND_GET_STOP</h4>
<pre>private static final&nbsp;int COMMAND_GET_STOP</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.apps8os.trafficsense.pebble.PebbleCommunication.COMMAND_GET_STOP">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="COMMAND_UPDATELIST">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>COMMAND_UPDATELIST</h4>
<pre>private static final&nbsp;int COMMAND_UPDATELIST</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.apps8os.trafficsense.pebble.PebbleCommunication.COMMAND_UPDATELIST">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="KEY_STOP_NUM">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KEY_STOP_NUM</h4>
<pre>private static final&nbsp;int KEY_STOP_NUM</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.apps8os.trafficsense.pebble.PebbleCommunication.KEY_STOP_NUM">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="KEY_STOP_NAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KEY_STOP_NAME</h4>
<pre>private static final&nbsp;int KEY_STOP_NAME</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.apps8os.trafficsense.pebble.PebbleCommunication.KEY_STOP_NAME">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="KEY_STOP_CODE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KEY_STOP_CODE</h4>
<pre>private static final&nbsp;int KEY_STOP_CODE</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.apps8os.trafficsense.pebble.PebbleCommunication.KEY_STOP_CODE">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="KEY_STOP_TIME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KEY_STOP_TIME</h4>
<pre>private static final&nbsp;int KEY_STOP_TIME</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.apps8os.trafficsense.pebble.PebbleCommunication.KEY_STOP_TIME">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="COMMAND_INIT_SEGMENT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>COMMAND_INIT_SEGMENT</h4>
<pre>private static final&nbsp;int COMMAND_INIT_SEGMENT</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.apps8os.trafficsense.pebble.PebbleCommunication.COMMAND_INIT_SEGMENT">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="KEY_LINE_NUMBER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KEY_LINE_NUMBER</h4>
<pre>private static final&nbsp;int KEY_LINE_NUMBER</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.apps8os.trafficsense.pebble.PebbleCommunication.KEY_LINE_NUMBER">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="KEY_FIRST_STOP_NAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KEY_FIRST_STOP_NAME</h4>
<pre>private static final&nbsp;int KEY_FIRST_STOP_NAME</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.apps8os.trafficsense.pebble.PebbleCommunication.KEY_FIRST_STOP_NAME">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="KEY_FIRST_STOP_CODE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KEY_FIRST_STOP_CODE</h4>
<pre>private static final&nbsp;int KEY_FIRST_STOP_CODE</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.apps8os.trafficsense.pebble.PebbleCommunication.KEY_FIRST_STOP_CODE">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="KEY_START_TIME_HOUR">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KEY_START_TIME_HOUR</h4>
<pre>private static final&nbsp;int KEY_START_TIME_HOUR</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.apps8os.trafficsense.pebble.PebbleCommunication.KEY_START_TIME_HOUR">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="KEY_START_TIME_MIN">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KEY_START_TIME_MIN</h4>
<pre>private static final&nbsp;int KEY_START_TIME_MIN</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.apps8os.trafficsense.pebble.PebbleCommunication.KEY_START_TIME_MIN">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="KEY_START_TIME_SEC">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KEY_START_TIME_SEC</h4>
<pre>private static final&nbsp;int KEY_START_TIME_SEC</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.apps8os.trafficsense.pebble.PebbleCommunication.KEY_START_TIME_SEC">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="COMMAND_SHOW_3STOP_WINDOW">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>COMMAND_SHOW_3STOP_WINDOW</h4>
<pre>private static final&nbsp;int COMMAND_SHOW_3STOP_WINDOW</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.apps8os.trafficsense.pebble.PebbleCommunication.COMMAND_SHOW_3STOP_WINDOW">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="NUM_STOPS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NUM_STOPS</h4>
<pre>public static final&nbsp;int NUM_STOPS</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.apps8os.trafficsense.pebble.PebbleCommunication.NUM_STOPS">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="PEBBLE_COMMAND_GET">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PEBBLE_COMMAND_GET</h4>
<pre>private static final&nbsp;int PEBBLE_COMMAND_GET</pre>
<div class="block">Commands that can be sent from Pebble to Android.
 Command for getting required data, such as stop names,
 when the user starts the Pebble application in the middle
 of the journey.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.apps8os.trafficsense.pebble.PebbleCommunication.PEBBLE_COMMAND_GET">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="mContext">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mContext</h4>
<pre>private&nbsp;Context mContext</pre>
<div class="block">The Context in which we work.</div>
</li>
</ul>
<a name="mMessageManagerThread">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mMessageManagerThread</h4>
<pre>private&nbsp;java.lang.Thread mMessageManagerThread</pre>
<div class="block">Handle Pebble (Bluetooth) communication in another Thread.</div>
</li>
</ul>
<a name="messageManager">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>messageManager</h4>
<pre>private final&nbsp;<a href="../../../../org/apps8os/trafficsense/pebble/MessageManager.html" title="class in org.apps8os.trafficsense.pebble">MessageManager</a> messageManager</pre>
<div class="block">Pebble MessageHandler.</div>
</li>
</ul>
<a name="ackReceiver">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ackReceiver</h4>
<pre>private&nbsp;com.getpebble.android.kit.PebbleKit.PebbleAckReceiver ackReceiver</pre>
<div class="block">Handle Pebble messaging ACKs.</div>
</li>
</ul>
<a name="nackReceiver">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nackReceiver</h4>
<pre>private&nbsp;com.getpebble.android.kit.PebbleKit.PebbleNackReceiver nackReceiver</pre>
<div class="block">Handle Pebble messaging NACKs.</div>
</li>
</ul>
<a name="mContainer">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>mContainer</h4>
<pre>private&nbsp;<a href="../../../../org/apps8os/trafficsense/TrafficsenseContainer.html" title="class in org.apps8os.trafficsense">TrafficsenseContainer</a> mContainer</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="PebbleCommunication(Context)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PebbleCommunication</h4>
<pre>public&nbsp;PebbleCommunication(Context&nbsp;applicationContext)</pre>
<div class="block">Constructor.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>applicationContext</code> - the Context in which we works.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="startAppOnPebble()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startAppOnPebble</h4>
<pre>public&nbsp;void&nbsp;startAppOnPebble()</pre>
<div class="block">Start the MessageManager thread and the smart watch app on Pebble.
 Must be called before any other operations.</div>
</li>
</ul>
<a name="switchTo3stopScreen()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>switchTo3stopScreen</h4>
<pre>public&nbsp;void&nbsp;switchTo3stopScreen()</pre>
<div class="block">Swithches the screen shown in Pebble to the 3 stop list</div>
</li>
</ul>
<a name="sendMessage(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendMessage</h4>
<pre>public&nbsp;void&nbsp;sendMessage(java.lang.String&nbsp;title,
               java.lang.String&nbsp;message)</pre>
<div class="block">Send a text notification to Pebble.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>title</code> - the title of the notification.</dd><dd><code>message</code> - the content of the notification.</dd></dl>
</li>
</ul>
<a name="sendWaypoint(org.apps8os.trafficsense.core.Waypoint, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendWaypoint</h4>
<pre>public&nbsp;void&nbsp;sendWaypoint(<a href="../../../../org/apps8os/trafficsense/core/Waypoint.html" title="class in org.apps8os.trafficsense.core">Waypoint</a>&nbsp;waypoint,
                int&nbsp;listIndex)</pre>
<div class="block">Send a Waypoint to Pebble.
 This is usually invoked in a loop to initialize the Pebble UI at start.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>waypoint</code> - the Waypoint.</dd><dd><code>listIndex</code> - the sequence number of this Waypoint in the journey.</dd></dl>
</li>
</ul>
<a name="updateList(org.apps8os.trafficsense.core.Waypoint)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateList</h4>
<pre>public&nbsp;void&nbsp;updateList(<a href="../../../../org/apps8os/trafficsense/core/Waypoint.html" title="class in org.apps8os.trafficsense.core">Waypoint</a>&nbsp;waypoint)</pre>
<div class="block">Scroll the Pebble list UI one waypoint forward.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>waypoint</code> - new waypoint to be added to the list.</dd></dl>
</li>
</ul>
<a name="initializeSegment(java.lang.String, java.lang.String, java.lang.String, int, int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initializeSegment</h4>
<pre>public&nbsp;void&nbsp;initializeSegment(java.lang.String&nbsp;line,
                     java.lang.String&nbsp;stopName,
                     java.lang.String&nbsp;stopCode,
                     int&nbsp;hours,
                     int&nbsp;minutes,
                     int&nbsp;seconds)</pre>
<div class="block">Sends values like transport mode (line number) and other segment related values
  Doesn't send the waypoints, they have to be sent after calling this.
  Parameters: line = transport line e.g. 550, hours = hours of day, 
  minutes = minutes of hour...</div>
</li>
</ul>
<a name="registerReceivers()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerReceivers</h4>
<pre>private&nbsp;void&nbsp;registerReceivers()</pre>
<div class="block">Set up Pebble ACK and NACK handlers.
 They are used by MessageHandler to know whether a message is
 properly handled by Pebble or not.</div>
</li>
</ul>
<a name="stop()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stop</h4>
<pre>public&nbsp;void&nbsp;stop()</pre>
<div class="block">Release Pebble messaging resources.
 Must be called when there is no need to communicate with Pebble anymore.</div>
</li>
</ul>
<a name="unRegisterReceivers()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>unRegisterReceivers</h4>
<pre>private&nbsp;void&nbsp;unRegisterReceivers()</pre>
<div class="block">Unregister Pebble ACK and NACK handlers.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PebbleCommunication.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apps8os/trafficsense/pebble/MessageManager.html" title="class in org.apps8os.trafficsense.pebble"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/apps8os/trafficsense/pebble/PebbleUiController.html" title="class in org.apps8os.trafficsense.pebble"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apps8os/trafficsense/pebble/PebbleCommunication.html" target="_top">Frames</a></li>
<li><a href="PebbleCommunication.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
